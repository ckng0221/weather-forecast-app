<div class="">
  <div class="mb-4">
    <mat-button-toggle-group name="dates" [(ngModel)]="currentDate">
      @for (date of availableDates(); track $index) {
      <mat-button-toggle mat-raised-button [ngClass]="date === currentDate() ? 'bg-blue-400' : 'bg-slate-300'" class=""
        (click)="chooseDate(date)" [value]="date">
        {{ date | date: 'dd MMM yyyy'}}
      </mat-button-toggle>
      }
    </mat-button-toggle-group>
  </div>

  <div class=" grid grid-cols-2 gap-4">
    <div>
      <div class="bg-sky-200"><img src="malaysia-map.webp" alt=""></div>
    </div>

    <div class="">
      <div class="mb-4">

      </div> <mat-form-field class="">
        <input id="search-input" [placeholder]="currentLocation()" matInput [(ngModel)]="searchedLocation">
        <mat-label for="search-input">Location</mat-label>
      </mat-form-field>

      @if (!isLoading() && currentLocation() !== "") {
      @for (weather of filteredWeathers(); track $index) {
      <mat-card appearance="outlined" class="my-2">
        <mat-card-content>
          <div class="grid grid-cols-2">
            <p class="font-bold">
              {{weather.location.location_name}}
            </p>
            <p class="justify-self-end text-gray-500">
              ( {{weather.location.location_id | weatherLocation }} )
            </p>
          </div>
          <p>
            {{ weather.max_temp }} °C / {{ weather.min_temp }} °C
          </p>
          <p>
            Summary: {{ weather.summary_forecast | weatherTranslate }}
          </p>
        </mat-card-content>
      </mat-card>
      }
      } @else {
      <mat-spinner></mat-spinner>
      }
    </div>
  </div>
</div>